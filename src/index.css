@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==================== */
/* LEAFLET MOBILE FIXES */
/* ==================== */
.leaflet-container {
  z-index: 1; /* Mínimo necesario para visibilidad */
  background-color: #f8f9fa; /* Fondo mientras carga */
  touch-action: auto; /* Habilita gestos táctiles */
  width: 100% !important;
  height: 100% !important;
}

/* Fix para marcadores/interacción */
.leaflet-marker-icon {
  filter: hue-rotate(200deg);
  pointer-events: auto;
}

/* Fix para capas/tiles */
.leaflet-tile-container {
  position: absolute;
  left: 0;
  top: 0;
}

/* Fix para controles en móviles */
.leaflet-control {
  touch-action: manipulation;
}

/* ================== */
/* SAFARI/iOS FIXES */
/* ================== */
@supports (-webkit-touch-callout: none) {
  .leaflet-container {
    -webkit-backface-visibility: hidden;
    -webkit-transform: translate3d(0,0,0);
    z-index: 10; /* Mayor prioridad en iOS */
  }
  
  .leaflet-marker-icon {
    -webkit-transform: translateZ(0);
  }
}

/* ================== */
/* ANDROID FIXES */
/* ================== */
@media (-moz-touch-enabled: 1), (pointer: coarse) {
  .leaflet-container {
    min-height: 300px; /* Altura mínima garantizada */
  }
  
  .leaflet-control-zoom {
    transform: scale(1.3); /* Botones más grandes */
    margin-right: 15px;
  }
}

/* ================== */
/* DEBUG (opcional) */
/* ================== */
/* 
.leaflet-container {
  border: 2px dashed red !important;
}
*/
